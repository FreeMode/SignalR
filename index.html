
<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>   
    <div id="messagesTable">
    </div>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="jquery.signalR-2.2.2.js"></script>
<script src="http://localhost:63383/signalr/hubs"></script>
<script type="text/javascript">
    $(function () {
        $.connection.hub.url = 'http://localhost:63383/signalr';
        var notifications = $.connection.notificationHub;
    
        notifications.client.displayStatus = function () {            
            getAllMessages()
           
        };
    
        $.connection.hub.start().done(function () {
            //alert("connection started")
            getAllMessages();
        }).fail(function (e) {
            alert(e);
        });
    });

    function getAllMessages()
    {
        var tbl = $('#messagesTable');
       $.ajax({
                url: 'http://localhost:63383/api/Notifications/MyNotifications',
                contentType: 'application/html ; charset:utf-8',
                type: 'GET',
                dataType: 'html',
                success: function (data) {
               
                tbl.empty().append(data);
            }
                
            });
       
};     
</script>
</body>
</html>

<!--Reference the autogenerated SignalR hub script. -->
  